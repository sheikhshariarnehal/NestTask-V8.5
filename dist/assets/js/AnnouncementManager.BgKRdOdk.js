import{r as i,j as e}from"./index.DAKxqFgX.js";import{M as c}from"./megaphone.DbcpsMcv.js";import{S as x}from"./send.Bmuhm_wY.js";import{p as m}from"./linkParser.BKY3c5ee.js";import{C as u}from"./calendar.BO4Fi10U.js";import{T as g}from"./trash-2.B1tpG9oK.js";import"./createLucideIcon.D9NnmSLx.js";function h({onSubmit:r}){const[a,t]=i.useState({title:"",content:""}),[n,s]=i.useState(!1);i.useEffect(()=>()=>{s(!1)},[]);const d=async l=>{if(l.preventDefault(),!n){s(!0);try{await r(a),t({title:"",content:""})}finally{s(!1)}}};return e.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:e.jsx(c,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Create Announcement"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Send important updates to all users"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Title"}),e.jsx("input",{type:"text",value:a.title,onChange:l=>t(o=>({...o,title:l.target.value})),className:"w-full px-4 py-2.5 border dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white transition-colors",placeholder:"Enter announcement title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Content"}),e.jsx("textarea",{value:a.content,onChange:l=>t(o=>({...o,content:l.target.value})),className:"w-full px-4 py-2.5 border dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white h-32 resize-none transition-colors",placeholder:"Enter announcement content",required:!0})]}),e.jsxs("button",{type:"submit",disabled:n,className:`
            w-full flex items-center justify-center gap-2 py-2.5 px-4 rounded-xl text-white
            ${n?"bg-blue-400 dark:bg-blue-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600"}
            transition-colors duration-200 shadow-sm hover:shadow-md
          `,children:[e.jsx(x,{className:"w-4 h-4"}),n?"Sending...":"Send Announcement"]})]})]})}function b({announcements:r,onDelete:a}){return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-4 sm:p-6 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:e.jsx(c,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Recent Announcements"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:[r.length," ",r.length===1?"announcement":"announcements"," sent"]})]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(c,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No announcements yet"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Create your first announcement above"})]}):e.jsx("div",{className:"space-y-4",children:r.map(t=>{const n=m(t.content);return e.jsx("div",{className:"p-4 rounded-xl border border-gray-100 dark:border-gray-700 hover:border-gray-200 dark:hover:border-gray-600 transition-all duration-200 group hover:shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-grow space-y-2 min-w-0",children:[" ",e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors break-words",children:t.title}),e.jsx("div",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base break-words",children:n.map((s,d)=>s.type==="link"?e.jsx("a",{href:s.content,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline break-all",children:s.content},d):e.jsx("span",{children:s.content},d))}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(t.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("div",{className:"flex sm:flex-col items-center gap-2",children:e.jsx("button",{onClick:()=>a(t.id),className:"p-2 text-red-600 dark:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete announcement",children:e.jsx(g,{className:"w-4 h-4"})})})]})},t.id)})})]})}function w({announcements:r,onCreateAnnouncement:a,onDeleteAnnouncement:t}){return e.jsxs("div",{children:[e.jsx(h,{onSubmit:a}),e.jsx(b,{announcements:r,onDelete:t})]})}export{w as AnnouncementManager};
