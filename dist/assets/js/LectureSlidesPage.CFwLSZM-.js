import{r as t,j as e}from"./index.C0H1tNoA.js";import{g as A,a as M,b as _,c as R,f as z}from"./lectureSlide.service.Cvs0OGki.js";import{F as p}from"./file-text.DH28tHqA.js";import{L as F}from"./link.zxR97E6r.js";import{V as N}from"./video.CLKIcaeZ.js";import{D as T}from"./download.DsS040m5.js";import{C as B}from"./chevron-down.C6mpdRnp.js";import{C as Q}from"./chevron-right.CXZjhWrh.js";import{C as U}from"./calendar.C-gMg0FM.js";import{U as E}from"./user.85D0B5pI.js";import{E as q}from"./eye.gHohgCFc.js";import{X as G}from"./x.CigEJzOQ.js";import{E as L}from"./googleDriveUtils.DK3agydk.js";import{L as O}from"./LoadingScreen.DY1BHWn0.js";import{u as W}from"./useAuth.Drb4Hls0.js";import{S as X}from"./search.CDPlP-AI.js";import{F as Y}from"./filter.BbxiQWno.js";import{A as H}from"./alert-triangle.DBYmdY-E.js";import"./createLucideIcon.CAAhpT3D.js";import"./dataCache.CcjqYMC_.js";import"./authErrors.D8KAnYp0.js";function J({lectureSlide:s,onClick:o}){const[n,b]=t.useState(!1),x=t.useMemo(()=>new Date(s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[s.createdAt]),l=t.useMemo(()=>s.fileUrls.length+s.slideLinks.length+s.videoLinks.length,[s.fileUrls.length,s.slideLinks.length,s.videoLinks.length]),i=t.useMemo(()=>l>0,[l]),g=t.useMemo(()=>`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:shadow-md transition-all duration-300 cursor-pointer group ${n?"shadow-lg border-blue-300 dark:border-blue-600":""}`,[n]),j=t.useMemo(()=>`p-2 rounded-lg transition-colors duration-300 ${n?"bg-blue-600 dark:bg-blue-500":"bg-blue-100 dark:bg-blue-900/20"}`,[n]),u=t.useMemo(()=>`w-5 h-5 transition-colors duration-300 ${n?"text-white":"text-blue-600 dark:text-blue-400"}`,[n]),v=t.useMemo(()=>`font-semibold transition-colors duration-300 line-clamp-2 ${n?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400"}`,[n]),f=t.useMemo(()=>`px-2 py-1 text-xs font-medium rounded-full transition-colors duration-300 ${n?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,[n]),w=t.useCallback((a,r,c)=>{a.stopPropagation();const h=A(r,c);window.open(h,"_blank")},[]),k=t.useCallback((a,r)=>{a.stopPropagation(),window.open(r,"_blank","noopener,noreferrer")},[]),C=t.useCallback(a=>{a.stopPropagation(),b(r=>!r)},[]),D=t.useCallback(()=>{b(a=>!a)},[]),$=t.useCallback(a=>{a.stopPropagation(),o()},[o]),V=t.useMemo(()=>[{count:s.fileUrls.length,label:"file",icon:p,bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-700 dark:text-blue-300",iconColor:"text-blue-600 dark:text-blue-400"},{count:s.slideLinks.length,label:"link",icon:F,bgColor:"bg-green-50 dark:bg-green-900/20",textColor:"text-green-700 dark:text-green-300",iconColor:"text-green-600 dark:text-green-400"},{count:s.videoLinks.length,label:"video",icon:N,bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-700 dark:text-red-300",iconColor:"text-red-600 dark:text-red-400"}].filter(a=>a.count>0),[s.fileUrls.length,s.slideLinks.length,s.videoLinks.length]),y=t.useCallback(({fileUrl:a,fileName:r,index:c})=>e.jsxs("div",{className:"flex items-center gap-3 p-2.5 bg-gray-50 dark:bg-gray-700/30 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("span",{className:"text-lg flex-shrink-0",children:M(r)}),e.jsx("div",{className:"flex-1 min-w-0 mr-3",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium truncate",title:r,children:r})}),e.jsx("button",{onClick:h=>w(h,a,r),className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-md transition-colors flex-shrink-0",title:`Download ${r}`,children:e.jsx(T,{className:"w-4 h-4"})})]}),[w]),d=t.useCallback(({link:a,index:r})=>e.jsxs("button",{onClick:c=>k(c,a),className:"w-full flex items-center gap-3 p-2.5 bg-gray-50 dark:bg-gray-700/30 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 text-left transition-colors group",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 truncate font-medium group-hover:underline",children:a})]},r),[k]),m=t.useCallback(({link:a,index:r})=>e.jsxs("button",{onClick:c=>k(c,a),className:"w-full flex items-center gap-3 p-2.5 bg-gray-50 dark:bg-gray-700/30 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 text-left transition-colors group",children:[e.jsx(N,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-red-600 dark:text-red-400 truncate font-medium group-hover:underline",children:a})]},r),[k]);return e.jsx("div",{onClick:D,className:g,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:j,children:e.jsx(p,{className:u})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:v,children:s.title}),s.section&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:s.section.name})]})]}),e.jsx("button",{onClick:C,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105",title:n?"Collapse":"Expand",children:n?e.jsx(B,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 transition-all duration-300 transform"}):e.jsx(Q,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-all duration-300 transform group-hover:translate-x-0.5"})})]}),!n&&e.jsxs("div",{className:"mb-4",children:[s.description&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2 mb-3",children:s.description}),i&&e.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(({count:a,label:r,icon:c,bgColor:h,textColor:I,iconColor:P})=>e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 ${h} rounded-md`,children:[e.jsx(c,{className:`w-3 h-3 ${P}`}),e.jsxs("span",{className:`text-xs ${I} font-medium`,children:[a," ",r,a!==1?"s":""]})]},r))})]}),e.jsxs("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${n?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:[s.description&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:s.description})}),e.jsxs("div",{className:"space-y-4 mb-4",children:[s.fileUrls.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(p,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:["Files (",s.fileUrls.length,")"]})]}),e.jsx("div",{className:"space-y-1.5",children:s.fileUrls.map((a,r)=>e.jsx(y,{fileUrl:a,fileName:s.originalFileNames[r]||`File ${r+1}`,index:r},r))})]}),s.slideLinks.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:["Links (",s.slideLinks.length,")"]})]}),e.jsx("div",{className:"space-y-1.5",children:s.slideLinks.map((a,r)=>e.jsx(d,{link:a,index:r},r))})]}),s.videoLinks.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(N,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:["Videos (",s.videoLinks.length,")"]})]}),e.jsx("div",{className:"space-y-1.5",children:s.videoLinks.map((a,r)=>e.jsx(m,{link:a,index:r},r))})]})]})]}),e.jsxs("div",{className:`flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700 transition-all duration-300 ${n?"mt-4":"mt-0"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"w-3 h-3"}),x]}),s.creator&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"w-3 h-3"}),s.creator.name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i&&e.jsxs("span",{className:f,children:[l," items"]}),e.jsx("button",{onClick:$,className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Details",children:e.jsx(q,{className:"w-4 h-4"})})]})]})]})})}function K({lectureSlide:s,onClose:o}){const n=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=(l,i)=>{const g=A(l,i);window.open(g,"_blank")},x=l=>{window.open(l,"_blank","noopener,noreferrer")};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:e.jsx(p,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white truncate",children:s.title}),s.section&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.section.name,s.section.batch&&e.jsxs("span",{children:[" â€¢ ",s.section.batch.name]})]})]})]}),e.jsx("button",{onClick:o,className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(G,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:e.jsxs("div",{className:"space-y-6",children:[s.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Description"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:s.description})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsxs("span",{children:["Created ",n(s.createdAt)]})]}),s.creator&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:s.creator.name})]}),s.updatedAt!==s.createdAt&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsxs("span",{children:["Updated ",n(s.updatedAt)]})]})]}),s.fileUrls.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Files (",s.fileUrls.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.fileUrls.map((l,i)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx("span",{className:"text-2xl",children:M(s.originalFileNames[i]||"")}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:s.originalFileNames[i]||`File ${i+1}`})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>x(l),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View file",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(l,s.originalFileNames[i]||`file_${i+1}`),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Download file",children:e.jsx(T,{className:"w-4 h-4"})})]})]},i))})]}),s.slideLinks.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Slide Links (",s.slideLinks.length,")"]}),e.jsx("div",{className:"space-y-3",children:s.slideLinks.map((l,i)=>e.jsxs("button",{onClick:()=>x(l),className:"w-full flex items-center gap-3 p-4 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 hover:shadow-sm transition-all text-left",children:[e.jsx(F,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400 hover:underline truncate",children:l}),e.jsx(L,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]},i))})]}),s.videoLinks.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Videos (",s.videoLinks.length,")"]}),e.jsx("div",{className:"space-y-6",children:s.videoLinks.map((l,i)=>{const g=_(l),j=R(l);return e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:g?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800",children:e.jsx("iframe",{src:g,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:`Video ${i+1}`})}),e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:()=>x(l),className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:underline",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{className:"capitalize",children:j})," - Open in new tab",e.jsx(L,{className:"w-4 h-4"})]})})]}):e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:()=>x(l),className:"flex items-center gap-3 text-blue-600 dark:text-blue-400 hover:underline w-full text-left",children:[e.jsx(N,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"truncate flex-1",children:l}),e.jsx(L,{className:"w-4 h-4 flex-shrink-0"})]})})},i)})})]}),s.fileUrls.length===0&&s.slideLinks.length===0&&s.videoLinks.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(p,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No content available"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"This lecture slide doesn't have any files, links, or videos attached."})]})]})})]})})}function Z({lectureSlides:s,loading:o=!1}){const[n,b]=t.useState(null);return o?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((x,l)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"})]})]})},l))}):s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(p,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No lecture slides found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"There are no lecture slides available at the moment."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>e.jsx(J,{lectureSlide:x,onClick:()=>b(x)},x.id))}),n&&e.jsx(K,{lectureSlide:n,onClose:()=>b(null)})]})}function ye(){const{user:s}=W(),[o,n]=t.useState([]),[b,x]=t.useState([]),[l,i]=t.useState(!0),[g,j]=t.useState(""),[u,v]=t.useState("all"),[f,w]=t.useState(!1),[k,C]=t.useState(!0);t.useEffect(()=>{D()},[s]),t.useEffect(()=>{$()},[o,g,u]);const D=async()=>{var d,m;if(!(s!=null&&s.sectionId)){i(!1);return}try{i(!0);const a={sectionId:s.sectionId},r=await z(a);n(r),C(!0)}catch(a){console.error("Error loading lecture slides:",a),(d=a.message)!=null&&d.includes("table does not exist")||(m=a.message)!=null&&m.includes('relation "lecture_slides" does not exist')?C(!1):console.error("Failed to load lecture slides:",a)}finally{i(!1)}},$=()=>{let d=[...o];if(g.trim()){const m=g.toLowerCase();d=d.filter(a=>{var r;return a.title.toLowerCase().includes(m)||a.description.toLowerCase().includes(m)||((r=a.creator)==null?void 0:r.name.toLowerCase().includes(m))})}if(u!=="all"){const m=new Date,a=new Date;u==="week"?a.setDate(m.getDate()-7):u==="month"&&a.setMonth(m.getMonth()-1),d=d.filter(r=>new Date(r.createdAt)>=a)}x(d)},y=(()=>{const d=o.length,m=o.reduce((c,h)=>c+h.fileUrls.length,0),a=o.reduce((c,h)=>c+h.slideLinks.length,0),r=o.reduce((c,h)=>c+h.videoLinks.length,0);return{totalSlides:d,totalFiles:m,totalLinks:a,totalVideos:r}})();return l?e.jsx(O,{minimumLoadTime:500,showProgress:!1}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Lecture Slides"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Access all lecture slides and materials for your section"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:y.totalSlides}),e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Slides"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:y.totalFiles}),e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Files"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:y.totalLinks}),e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Links"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:y.totalVideos}),e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Videos"})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search lecture slides...",value:g,onChange:d=>j(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),e.jsxs("button",{onClick:()=>w(!f),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${f?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx(Y,{className:"w-4 h-4"}),"Filters"]})]}),f&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex flex-wrap gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),e.jsxs("select",{value:u,onChange:d=>v(d.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Time"}),e.jsx("option",{value:"week",children:"Last Week"}),e.jsx("option",{value:"month",children:"Last Month"})]})]})})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:["Showing ",b.length," of ",o.length," lecture slides"]}),(g||u!=="all")&&e.jsx("button",{onClick:()=>{j(""),v("all")},className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Clear filters"})]})]}),(s==null?void 0:s.sectionName)&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-800 dark:text-blue-200",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-medium",children:["Viewing slides for: ",s.sectionName,s.batchName&&` (${s.batchName})`]})]})}),k?s!=null&&s.sectionId?e.jsx(Z,{lectureSlides:b,loading:l}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-12 text-center",children:[e.jsx(p,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Section Assigned"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"You need to be assigned to a section to view lecture slides."})]}):e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-12 text-center",children:[e.jsx(H,{className:"w-16 h-16 text-amber-500 dark:text-amber-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-amber-900 dark:text-amber-100 mb-2",children:"Feature Setup Required"}),e.jsx("p",{className:"text-amber-700 dark:text-amber-300 mb-4",children:"The lecture slides feature needs to be set up by your administrator."}),e.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Please contact your system administrator to run the database migration."})]})]})}export{ye as LectureSlidesPage};
