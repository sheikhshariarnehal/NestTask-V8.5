import{e as g,K as N,k as C,l as P,h as O,g as F,n as H,o as S,q as $,u as q,v as U}from"./App.C7UMljVT.js";import"./index.JkNvIPSr.js";import"./index.DUXsTRLL.js";import"./index.7rf_HWSq.js";import"./useAuth.BL3rUqI7.js";import"./dataCache.DeEt0VbR.js";import"./authErrors.D8KAnYp0.js";import"./useTasks.DJuP3F5J.js";import"./telegram.service.B5vX6-Oo.js";import"./dateUtils.CaLFIf6y.js";import"./AuthPage.DYEJDH55.js";import"./AuthSubmitButton.BcCPwtOa.js";import"./createLucideIcon.DzBLQDEc.js";import"./alert-circle.cLZZ_ZB-.js";import"./mail.DVnBZ50V.js";import"./lock.y_pS56us.js";import"./eye-off.Cli_LEU1.js";import"./eye.C9NeGnLl.js";import"./loader-2.3ESBZAkY.js";import"./user.LuHtos19.js";import"./book-open.BX2ETlbU.js";import"./layers.DZt0VdeI.js";import"./users.C-9wEQ32.js";import"./check-circle-2.BNj3Lwkb.js";import"./x.C6mfL8FD.js";import"./briefcase.Dykr_g6y.js";import"./graduation-cap.DZ9mq45Z.js";import"./bell.BUCJ0a3E.js";import"./smartphone.9kAeGTLz.js";import"./sun.Df-rDr15.js";import"./shield.DXOrO5gu.js";import"./chevron-right.1Pf9Qlyf.js";import"./calendar.DX6rLdDs.js";import"./clock.C_mxvWVz.js";import"./search.ptn9o-kw.js";import"./ResetPasswordPage.CwFX31Fd.js";import"./shield-check.BCNBha2q.js";import"./linkParser.BKY3c5ee.js";import"./googleDriveUtils.Cq_ueWgn.js";import"./file-text.NLi9Vk0P.js";import"./link.Bi6fiTC2.js";import"./tag.B409Kdu8.js";import"./copy.CESwJwKj.js";import"./download.DZW_eq9u.js";import"./list-todo.Bp-86uUi.js";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const A=new WeakMap,D=(t,o,e,r=0,s=!1)=>{A.has(t)!==e&&(e?G(t,o,r,s):W(t,o))},Y=t=>t===t.getRootNode().activeElement,G=(t,o,e,r=!1)=>{const s=o.parentNode,i=o.cloneNode(!1);i.classList.add("cloned-input"),i.tabIndex=-1,r&&(i.disabled=!0),s.appendChild(i),A.set(t,i);const a=t.ownerDocument.dir==="rtl"?9999:-9999;t.style.pointerEvents="none",o.style.transform=`translate3d(${a}px,${e}px,0) scale(0)`},W=(t,o)=>{const e=A.get(t);e&&(A.delete(t),e.remove()),t.style.pointerEvents="",o.style.transform=""},k=50,z=(t,o,e)=>{if(!e||!o)return()=>{};const r=a=>{Y(o)&&D(t,o,a)},s=()=>D(t,o,!1),i=()=>r(!0),c=()=>r(!1);return C(e,"ionScrollStart",i),C(e,"ionScrollEnd",c),o.addEventListener("blur",s),()=>{P(e,"ionScrollStart",i),P(e,"ionScrollEnd",c),o.removeEventListener("blur",s)}},I="input, textarea, [no-blur], [contenteditable]",j=()=>{let t=!0,o=!1;const e=document,r=()=>{o=!0},s=()=>{t=!0},i=c=>{if(o){o=!1;return}const a=e.activeElement;if(!a||a.matches(I))return;const f=c.target;f!==a&&(f.matches(I)||f.closest(I)||(t=!1,setTimeout(()=>{t||a.blur()},50)))};return C(e,"ionScrollStart",r),e.addEventListener("focusin",s,!0),e.addEventListener("touchend",i,!1),()=>{P(e,"ionScrollStart",r,!0),e.removeEventListener("focusin",s,!0),e.removeEventListener("touchend",i,!1)}},J=.3,Q=(t,o,e,r)=>{var s;const i=(s=t.closest("ion-item,[ion-item]"))!==null&&s!==void 0?s:t;return V(i.getBoundingClientRect(),o.getBoundingClientRect(),e,r)},V=(t,o,e,r)=>{const s=t.top,i=t.bottom,c=o.top,a=Math.min(o.bottom,r-e),f=c+15,u=a-k-i,d=f-s,v=Math.round(u<0?-u:d>0?-d:0),m=Math.min(v,s-c),n=Math.abs(m)/J,p=Math.min(400,Math.max(150,n));return{scrollAmount:m,scrollDuration:p,scrollPadding:e,inputSafeY:-(s-f)+4}},x="$ionPaddingTimer",B=(t,o,e)=>{const r=t[x];r&&clearTimeout(r),o>0?t.style.setProperty("--keyboard-offset",`${o}px`):t[x]=setTimeout(()=>{t.style.setProperty("--keyboard-offset","0px"),e&&e()},120)},R=(t,o,e)=>{const r=()=>{o&&B(o,0,e)};t.addEventListener("focusout",r,{once:!0})};let w=0;const M="data-ionic-skip-scroll-assist",X=(t,o,e,r,s,i,c,a=!1)=>{const f=i&&(c===void 0||c.mode===H.None);let l=!1;const u=S!==void 0?S.innerHeight:0,d=h=>{if(l===!1){l=!0;return}_(t,o,e,r,h.detail.keyboardHeight,f,a,u,!1)},v=()=>{l=!1,S===null||S===void 0||S.removeEventListener("ionKeyboardDidShow",d),t.removeEventListener("focusout",v)},m=async()=>{if(o.hasAttribute(M)){o.removeAttribute(M);return}_(t,o,e,r,s,f,a,u),S===null||S===void 0||S.addEventListener("ionKeyboardDidShow",d),t.addEventListener("focusout",v)};return t.addEventListener("focusin",m),()=>{t.removeEventListener("focusin",m),S===null||S===void 0||S.removeEventListener("ionKeyboardDidShow",d),t.removeEventListener("focusout",v)}},T=t=>{var o;if(document.activeElement===t)return;const e=t.getAttribute("id"),r=t.closest(`label[for="${e}"]`),s=(o=document.activeElement)===null||o===void 0?void 0:o.closest(`label[for="${e}"]`);r!==null&&r===s||(t.setAttribute(M,"true"),t.focus())},_=async(t,o,e,r,s,i,c=!1,a=0,f=!0)=>{if(!e&&!r)return;const l=Q(t,e||r,s,a);if(e&&Math.abs(l.scrollAmount)<4){T(o),i&&e!==null&&(B(e,w),R(o,e,()=>w=0));return}if(D(t,o,!0,l.inputSafeY,c),T(o),$(()=>t.click()),i&&e&&(w=l.scrollPadding,B(e,w)),typeof window!="undefined"){let u;const d=async()=>{u!==void 0&&clearTimeout(u),window.removeEventListener("ionKeyboardDidShow",v),window.removeEventListener("ionKeyboardDidShow",d),e&&await U(e,0,l.scrollAmount,l.scrollDuration),D(t,o,!1,l.inputSafeY),T(o),i&&R(o,e,()=>w=0)},v=()=>{window.removeEventListener("ionKeyboardDidShow",v),window.addEventListener("ionKeyboardDidShow",d)};if(e){const m=await q(e),h=m.scrollHeight-m.clientHeight;if(f&&l.scrollAmount>h-m.scrollTop){o.type==="password"?(l.scrollAmount+=k,window.addEventListener("ionKeyboardDidShow",v)):window.addEventListener("ionKeyboardDidShow",d),u=setTimeout(d,1e3);return}}d()}},Z=!0,Wt=async(t,o)=>{if(g===void 0)return;const e=o==="ios",r=o==="android",s=t.getNumber("keyboardHeight",290),i=t.getBoolean("scrollAssist",!0),c=t.getBoolean("hideCaretOnScroll",e),a=t.getBoolean("inputBlurring",!1),f=t.getBoolean("scrollPadding",!0),l=Array.from(g.querySelectorAll("ion-input, ion-textarea")),u=new WeakMap,d=new WeakMap,v=await N.getResizeMode(),m=async n=>{await new Promise(L=>O(n,L));const p=n.shadowRoot||n,y=p.querySelector("input")||p.querySelector("textarea"),b=F(n),K=b?null:n.closest("ion-footer");if(!y)return;if(b&&c&&!u.has(n)){const L=z(n,y,b);u.set(n,L)}if(!(y.type==="date"||y.type==="datetime-local")&&(b||K)&&i&&!d.has(n)){const L=X(n,y,b,K,s,f,v,r);d.set(n,L)}},h=n=>{if(c){const p=u.get(n);p&&p(),u.delete(n)}if(i){const p=d.get(n);p&&p(),d.delete(n)}};a&&Z&&j();for(const n of l)m(n);g.addEventListener("ionInputDidLoad",n=>{m(n.detail)}),g.addEventListener("ionInputDidUnload",n=>{h(n.detail)})};export{Wt as startInputShims};
