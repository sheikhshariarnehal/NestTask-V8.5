import{r as e,j as s}from"./react-vendor.SP0LgxZM.js";import{g as a,a as r,b as t,c as l,f as i}from"./lectureSlide.service.D6CJin9M.js";import{FileText as d,Link as n,LucideVideo as c,Download as o,ChevronDown as x,ChevronRight as m,Calendar as g,LucideUser as h,Eye as b,LucideX as u,ExternalLink as j,LucideSearch as k,Filter as p,AlertTriangle as y}from"./icons.BOUVRKPH.js";import{a as N,L as v}from"./App.Di7elako.js";import"./charts.BhfGaadd.js";import"./index.CxTf1Bti.js";import"./supabase.B4ywLuvY.js";import"./AuthSubmitButton.BLpJgFCP.js";import"./AuthPage.D2ROb-ls.js";import"./ui-components.BjukC0cy.js";import"./date-utils.CKfbr2bM.js";import"./ResetPasswordPage.DDbEt0ky.js";function f({lectureSlide:t,onClick:l}){const[i,u]=e.useState(!1),j=e.useMemo((()=>new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})),[t.createdAt]),k=e.useMemo((()=>t.fileUrls.length+t.slideLinks.length+t.videoLinks.length),[t.fileUrls.length,t.slideLinks.length,t.videoLinks.length]),p=e.useMemo((()=>k>0),[k]),y=e.useMemo((()=>"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:shadow-md transition-all duration-300 cursor-pointer group "+(i?"shadow-lg border-blue-300 dark:border-blue-600":"")),[i]),N=e.useMemo((()=>"p-2 rounded-lg transition-colors duration-300 "+(i?"bg-blue-600 dark:bg-blue-500":"bg-blue-100 dark:bg-blue-900/20")),[i]),v=e.useMemo((()=>"w-5 h-5 transition-colors duration-300 "+(i?"text-white":"text-blue-600 dark:text-blue-400")),[i]),f=e.useMemo((()=>"font-semibold transition-colors duration-300 line-clamp-2 "+(i?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400")),[i]),w=e.useMemo((()=>"px-2 py-1 text-xs font-medium rounded-full transition-colors duration-300 "+(i?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400")),[i]),C=e.useCallback(((e,s,r)=>{e.stopPropagation();const t=a(s,r);window.open(t,"_blank")}),[]),L=e.useCallback(((e,s)=>{e.stopPropagation(),window.open(s,"_blank","noopener,noreferrer")}),[]),S=e.useCallback((e=>{e.stopPropagation(),u((e=>!e))}),[]),U=e.useCallback((()=>{u((e=>!e))}),[]),F=e.useCallback((e=>{e.stopPropagation(),l()}),[l]),A=e.useMemo((()=>[{count:t.fileUrls.length,label:"file",icon:d,bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-700 dark:text-blue-300",iconColor:"text-blue-600 dark:text-blue-400"},{count:t.slideLinks.length,label:"link",icon:n,bgColor:"bg-green-50 dark:bg-green-900/20",textColor:"text-green-700 dark:text-green-300",iconColor:"text-green-600 dark:text-green-400"},{count:t.videoLinks.length,label:"video",icon:c,bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-700 dark:text-red-300",iconColor:"text-red-600 dark:text-red-400"}].filter((e=>e.count>0))),[t.fileUrls.length,t.slideLinks.length,t.videoLinks.length]),D=e.useCallback((({fileUrl:e,fileName:a,index:t})=>s.jsxs("div",{className:"flex items-center gap-3 p-2.5 bg-gray-50 dark:bg-gray-700/30 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors",children:[s.jsx("span",{className:"text-lg flex-shrink-0",children:r(a)}),s.jsx("div",{className:"flex-1 min-w-0 mr-3",children:s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium truncate",title:a,children:a})}),s.jsx("button",{onClick:s=>C(s,e,a),className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-md transition-colors flex-shrink-0",title:`Download ${a}`,children:s.jsx(o,{className:"w-4 h-4"})})]})),[C]),M=e.useCallback((({link:e,index:a})=>s.jsxs("button",{onClick:s=>L(s,e),className:"w-full flex items-center gap-3 p-2.5 bg-gray-50 dark:bg-gray-700/30 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 text-left transition-colors group",children:[s.jsx(n,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 truncate font-medium group-hover:underline",children:e})]},a)),[L]),V=e.useCallback((({link:e,index:a})=>s.jsxs("button",{onClick:s=>L(s,e),className:"w-full flex items-center gap-3 p-2.5 bg-gray-50 dark:bg-gray-700/30 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 text-left transition-colors group",children:[s.jsx(c,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-red-600 dark:text-red-400 truncate font-medium group-hover:underline",children:e})]},a)),[L]);return s.jsx("div",{onClick:U,className:y,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:N,children:s.jsx(d,{className:v})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:f,children:t.title}),t.section&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:t.section.name})]})]}),s.jsx("button",{onClick:S,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105",title:i?"Collapse":"Expand",children:i?s.jsx(x,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 transition-all duration-300 transform"}):s.jsx(m,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-all duration-300 transform group-hover:translate-x-0.5"})})]}),!i&&s.jsxs("div",{className:"mb-4",children:[t.description&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2 mb-3",children:t.description}),p&&s.jsx("div",{className:"flex flex-wrap gap-2",children:A.map((({count:e,label:a,icon:r,bgColor:t,textColor:l,iconColor:i})=>s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 ${t} rounded-md`,children:[s.jsx(r,{className:`w-3 h-3 ${i}`}),s.jsxs("span",{className:`text-xs ${l} font-medium`,children:[e," ",a,1!==e?"s":""]})]},a)))})]}),s.jsxs("div",{className:"transition-all duration-500 ease-in-out overflow-hidden "+(i?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"),children:[t.description&&s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:t.description})}),s.jsxs("div",{className:"space-y-4 mb-4",children:[t.fileUrls.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(d,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:["Files (",t.fileUrls.length,")"]})]}),s.jsx("div",{className:"space-y-1.5",children:t.fileUrls.map(((e,a)=>s.jsx(D,{fileUrl:e,fileName:t.originalFileNames[a]||`File ${a+1}`,index:a},a)))})]}),t.slideLinks.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(n,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:["Links (",t.slideLinks.length,")"]})]}),s.jsx("div",{className:"space-y-1.5",children:t.slideLinks.map(((e,a)=>s.jsx(M,{link:e,index:a},a)))})]}),t.videoLinks.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(c,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:["Videos (",t.videoLinks.length,")"]})]}),s.jsx("div",{className:"space-y-1.5",children:t.videoLinks.map(((e,a)=>s.jsx(V,{link:e,index:a},a)))})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700 transition-all duration-300 "+(i?"mt-4":"mt-0"),children:[s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(g,{className:"w-3 h-3"}),j]}),t.creator&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(h,{className:"w-3 h-3"}),t.creator.name]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[p&&s.jsxs("span",{className:w,children:[k," items"]}),s.jsx("button",{onClick:F,className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Details",children:s.jsx(b,{className:"w-4 h-4"})})]})]})]})})}function w({lectureSlide:e,onClose:i}){const x=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=e=>{window.open(e,"_blank","noopener,noreferrer")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:s.jsx(d,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white truncate",children:e.title}),e.section&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.section.name,e.section.batch&&s.jsxs("span",{children:[" â€¢ ",e.section.batch.name]})]})]})]}),s.jsx("button",{onClick:i,className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(u,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:s.jsxs("div",{className:"space-y-6",children:[e.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Description"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:e.description})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g,{className:"w-4 h-4"}),s.jsxs("span",{children:["Created ",x(e.createdAt)]})]}),e.creator&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(h,{className:"w-4 h-4"}),s.jsx("span",{children:e.creator.name})]}),e.updatedAt!==e.createdAt&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g,{className:"w-4 h-4"}),s.jsxs("span",{children:["Updated ",x(e.updatedAt)]})]})]}),e.fileUrls.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Files (",e.fileUrls.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.fileUrls.map(((t,l)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-sm transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx("span",{className:"text-2xl",children:r(e.originalFileNames[l]||"")}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.originalFileNames[l]||`File ${l+1}`})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>m(t),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View file",children:s.jsx(j,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>((e,s)=>{const r=a(e,s);window.open(r,"_blank")})(t,e.originalFileNames[l]||`file_${l+1}`),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Download file",children:s.jsx(o,{className:"w-4 h-4"})})]})]},l)))})]}),e.slideLinks.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Slide Links (",e.slideLinks.length,")"]}),s.jsx("div",{className:"space-y-3",children:e.slideLinks.map(((e,a)=>s.jsxs("button",{onClick:()=>m(e),className:"w-full flex items-center gap-3 p-4 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 hover:shadow-sm transition-all text-left",children:[s.jsx(n,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),s.jsx("span",{className:"text-blue-600 dark:text-blue-400 hover:underline truncate",children:e}),s.jsx(j,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]},a)))})]}),e.videoLinks.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Videos (",e.videoLinks.length,")"]}),s.jsx("div",{className:"space-y-6",children:e.videoLinks.map(((e,a)=>{const r=t(e),i=l(e);return s.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 overflow-hidden",children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800",children:s.jsx("iframe",{src:r,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:`Video ${a+1}`})}),s.jsx("div",{className:"p-4",children:s.jsxs("button",{onClick:()=>m(e),className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:underline",children:[s.jsx(c,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:i})," - Open in new tab",s.jsx(j,{className:"w-4 h-4"})]})})]}):s.jsx("div",{className:"p-4",children:s.jsxs("button",{onClick:()=>m(e),className:"flex items-center gap-3 text-blue-600 dark:text-blue-400 hover:underline w-full text-left",children:[s.jsx(c,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"truncate flex-1",children:e}),s.jsx(j,{className:"w-4 h-4 flex-shrink-0"})]})})},a)}))})]}),0===e.fileUrls.length&&0===e.slideLinks.length&&0===e.videoLinks.length&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(d,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No content available"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"This lecture slide doesn't have any files, links, or videos attached."})]})]})})]})})}function C({lectureSlides:a,loading:r=!1}){const[t,l]=e.useState(null);return r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map(((e,a)=>s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"}),s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"})]})]})},a)))}):0===a.length?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(d,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No lecture slides found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"There are no lecture slides available at the moment."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((e=>s.jsx(f,{lectureSlide:e,onClick:()=>l(e)},e.id)))}),t&&s.jsx(w,{lectureSlide:t,onClose:()=>l(null)})]})}function L(){const{user:a}=N(),[r,t]=e.useState([]),[l,n]=e.useState([]),[c,o]=e.useState(!0),[x,m]=e.useState(""),[g,b]=e.useState("all"),[u,j]=e.useState(!1),[f,w]=e.useState(!0);e.useEffect((()=>{L()}),[a]),e.useEffect((()=>{S()}),[r,x,g]);const L=async()=>{var e,s;if(null==a?void 0:a.sectionId)try{o(!0);const e={sectionId:a.sectionId},s=await i(e);t(s),w(!0)}catch(r){((null==(e=r.message)?void 0:e.includes("table does not exist"))||(null==(s=r.message)?void 0:s.includes('relation "lecture_slides" does not exist')))&&w(!1)}finally{o(!1)}else o(!1)},S=()=>{let e=[...r];if(x.trim()){const s=x.toLowerCase();e=e.filter((e=>{var a;return e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||(null==(a=e.creator)?void 0:a.name.toLowerCase().includes(s))}))}if("all"!==g){const s=new Date,a=new Date;"week"===g?a.setDate(s.getDate()-7):"month"===g&&a.setMonth(s.getMonth()-1),e=e.filter((e=>new Date(e.createdAt)>=a))}n(e)},U={totalSlides:r.length,totalFiles:r.reduce(((e,s)=>e+s.fileUrls.length),0),totalLinks:r.reduce(((e,s)=>e+s.slideLinks.length),0),totalVideos:r.reduce(((e,s)=>e+s.videoLinks.length),0)};return c?s.jsx(v,{minimumLoadTime:500,showProgress:!1}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Lecture Slides"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Access all lecture slides and materials for your section"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:U.totalSlides}),s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Slides"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:U.totalFiles}),s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Files"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:U.totalLinks}),s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Links"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:U.totalVideos}),s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Videos"})]})]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search lecture slides...",value:x,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),s.jsxs("button",{onClick:()=>j(!u),className:"flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors "+(u?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-600 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[s.jsx(p,{className:"w-4 h-4"}),"Filters"]})]}),u&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"flex flex-wrap gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),s.jsxs("select",{value:g,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"week",children:"Last Week"}),s.jsx("option",{value:"month",children:"Last Month"})]})]})})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{children:["Showing ",l.length," of ",r.length," lecture slides"]}),(x||"all"!==g)&&s.jsx("button",{onClick:()=>{m(""),b("all")},className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Clear filters"})]})]}),(null==a?void 0:a.sectionName)&&s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-blue-800 dark:text-blue-200",children:[s.jsx(h,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["Viewing slides for: ",a.sectionName,a.batchName&&` (${a.batchName})`]})]})}),f?(null==a?void 0:a.sectionId)?s.jsx(C,{lectureSlides:l,loading:c}):s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-12 text-center",children:[s.jsx(d,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Section Assigned"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"You need to be assigned to a section to view lecture slides."})]}):s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-12 text-center",children:[s.jsx(y,{className:"w-16 h-16 text-amber-500 dark:text-amber-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-amber-900 dark:text-amber-100 mb-2",children:"Feature Setup Required"}),s.jsx("p",{className:"text-amber-700 dark:text-amber-300 mb-4",children:"The lecture slides feature needs to be set up by your administrator."}),s.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Please contact your system administrator to run the database migration."})]})]})}export{L as LectureSlidesPage};
