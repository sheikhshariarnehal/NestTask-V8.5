import{r as n,j as e}from"./index.CJtaPG8k.js";import{A as j}from"./activity.CjGLiudK.js";import{C as w}from"./chevron-up.DOpVJl0N.js";import{C as h}from"./chevron-down.BuMKPuxR.js";import"./createLucideIcon.k-XdYkiG.js";function T({users:o}){const[x,p]=n.useState([]),[s,u]=n.useState(!1),[i,f]=n.useState([]);n.useEffect(()=>{const t=[...o].sort((r,l)=>{const c=r.lastActive?new Date(r.lastActive).getTime():new Date(r.createdAt).getTime();return(l.lastActive?new Date(l.lastActive).getTime():new Date(l.createdAt).getTime())-c});f(t),p(s?t:t.slice(0,5))},[o,s]);const b=t=>{const r=new Date(t),c=new Date().getTime()-r.getTime(),a=Math.floor(c/6e4),m=Math.floor(a/60),g=Math.floor(m/24);return a<1?"Just now":a<60?`${a}m ago`:m<24?`${m}h ago`:g===1?"Yesterday":`${g}d ago`},d=()=>{u(!s)};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 sm:p-6 shadow-sm mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activity"})]}),i.length>5&&e.jsx("button",{onClick:d,className:"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Show Less"}),e.jsx(w,{className:"w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Show All"}),e.jsx(h,{className:"w-4 h-4"})]})})]}),x.length===0?e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No recent activity"}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:x.map(t=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-4 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-white font-medium text-sm sm:text-base",children:t.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm sm:text-base",children:t.name}),e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${t.role==="admin"?"bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300"}`,children:t.role})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:t.email})]})]}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 ml-11 sm:ml-0 mt-2 sm:mt-0",children:b(t.lastActive||t.createdAt)})]},t.id))}),!s&&i.length>5&&e.jsxs("button",{onClick:d,className:"w-full mt-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-1",children:[e.jsxs("span",{children:["View All Activities (",i.length,")"]}),e.jsx(h,{className:"w-4 h-4"})]})]})}export{T as UserActivity};
