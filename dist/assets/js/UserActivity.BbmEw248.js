import{r as e,j as t}from"./index.ByUURyMP.js";import{A as s}from"./activity.B-15aoTD.js";import{C as a}from"./chevron-up.C5_1-Wzp.js";import{C as r}from"./chevron-down.DEtWnzkw.js";import"./createLucideIcon.DqimOJnD.js";function l({users:l}){const[i,n]=e.useState([]),[m,c]=e.useState(!1),[x,d]=e.useState([]);e.useEffect((()=>{const e=[...l].sort(((e,t)=>{const s=e.lastActive?new Date(e.lastActive).getTime():new Date(e.createdAt).getTime();return(t.lastActive?new Date(t.lastActive).getTime():new Date(t.createdAt).getTime())-s}));d(e),n(m?e:e.slice(0,5))}),[l,m]);const o=e=>{const t=new Date(e),s=(new Date).getTime()-t.getTime(),a=Math.floor(s/6e4),r=Math.floor(a/60),l=Math.floor(r/24);return a<1?"Just now":a<60?`${a}m ago`:r<24?`${r}h ago`:1===l?"Yesterday":`${l}d ago`},g=()=>{c(!m)};return t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 sm:p-6 shadow-sm mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(s,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activity"})]}),x.length>5&&t.jsx("button",{onClick:g,className:"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:m?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Show Less"}),t.jsx(a,{className:"w-4 h-4"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Show All"}),t.jsx(r,{className:"w-4 h-4"})]})})]}),0===i.length?t.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"No recent activity"}):t.jsx("div",{className:"space-y-3 sm:space-y-4",children:i.map((e=>t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-4 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center text-white font-medium text-sm sm:text-base",children:e.name.charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm sm:text-base",children:e.name}),t.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full "+("admin"===e.role?"bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300":"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300"),children:e.role})]}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:e.email})]})]}),t.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 ml-11 sm:ml-0 mt-2 sm:mt-0",children:o(e.lastActive||e.createdAt)})]},e.id)))}),!m&&x.length>5&&t.jsxs("button",{onClick:g,className:"w-full mt-4 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-1",children:[t.jsxs("span",{children:["View All Activities (",x.length,")"]}),t.jsx(r,{className:"w-4 h-4"})]})]})}export{l as UserActivity};
