import{r as a}from"./index.YUbl_JYO.js";var d={},f="@vercel/speed-insights",l="1.3.1",v=()=>{window.si||(window.si=function(...r){(window.siq=window.siq||[]).push(r)})};function w(){return typeof window!="undefined"}function h(){try{const e="production"}catch(e){}return"production"}function o(){return h()==="development"}function R(e,r){if(!e||!r)return e;let n=e;try{const t=Object.entries(r);for(const[i,s]of t)if(!Array.isArray(s)){const c=u(s);c.test(n)&&(n=n.replace(c,`/[${i}]`))}for(const[i,s]of t)if(Array.isArray(s)){const c=u(s.join("/"));c.test(n)&&(n=n.replace(c,`/[...${i}]`))}return n}catch(t){return e}}function u(e){return new RegExp(`/${g(e)}(?=[/?#]|$)`)}function g(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){return e.scriptSrc?e.scriptSrc:o()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}function b(e={}){var r;if(!w()||e.route===null)return null;v();const n=m(e);if(document.head.querySelector(`script[src*="${n}"]`))return null;e.beforeSend&&((r=window.si)==null||r.call(window,"beforeSend",e.beforeSend));const t=document.createElement("script");return t.src=n,t.defer=!0,t.dataset.sdkn=f+(e.framework?`/${e.framework}`:""),t.dataset.sdkv=l,e.sampleRate&&(t.dataset.sampleRate=e.sampleRate.toString()),e.route&&(t.dataset.route=e.route),e.endpoint?t.dataset.endpoint=e.endpoint:e.basePath&&(t.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(t.dataset.dsn=e.dsn),o()&&e.debug===!1&&(t.dataset.debug="false"),t.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${n}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(t),{setRoute:i=>{t.dataset.route=i!=null?i:void 0}}}function S(){if(!(typeof process=="undefined"||typeof d=="undefined"))return d.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function E(e){a.useEffect(()=>{var n;e.beforeSend&&((n=window.si)==null||n.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]);const r=a.useRef(null);return a.useEffect(()=>{var n,t;if(r.current)e.route&&r.current(e.route);else{const i=b({framework:(n=e.framework)!=null?n:"react",basePath:(t=e.basePath)!=null?t:S(),...e});i&&(r.current=i.setRoute)}},[e.route]),null}export{E as SpeedInsights,R as computeRoute};
